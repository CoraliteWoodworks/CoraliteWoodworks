<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Coralite Woodworks | {{ portfolioFull }}</title>
       {% include 'wrapper/header.html' %}
</head>
<body>

<!-- Header -->
<div id="header" class="skel-layers-fixed">

    <div class="top">

        <!-- Logo -->
        <div id="logo">
            <a href="{{ url_for('main') }}"><img class="lazy"
                                                 data-src="{{ url_for('static', filename='images/Logo Brown.jpg') }}"
                                                 width="100%" height="" alt="Coralite Woodworks, LLC." src=""></a>
        </div>

        <!-- Nav -->
        <nav id="nav">
            <!--

                Prologue's nav expects links in one of two formats:

                1. Hash link (scrolls to a different section within the page)

                   <li><a href="#foobar" id="foobar-link" class="icon fa-whatever-icon-you-want skel-layers-ignoreHref"><span class="label">Foobar</span></a></li>

                2. Standard link (sends the user to another page/site)

                   <li><a href="http://foobar.tld" id="foobar-link" class="icon fa-whatever-icon-you-want"><span class="label">Foobar</span></a></li>

            -->
            <ul>
                <li><a href="{{ url_for('main') }}#portfolio" id="portfolio-link" class="skel-layers-ignoreHref"><span
                        class="icon fa-th">Design Portfolio</span></a></li>
                <!-- TemplateBeginEditable name="Name" -->
                <li><a href="#galleries" id="portfolio-link2" class="skel-layers-ignoreHref"><span
                        class="icon fa-sitemap">{{ portfolioFull }}</span></a></li>
                <!-- TemplateEndEditable -->
            </ul>
        </nav>

    </div>

    <div class="bottom">
        {% include 'wrapper/social.html' %}
    </div>

</div>

<!-- Main -->
<div id="main">
    <!-- Portfolio -->
    <section id="galleries" class="two">
        <div class="container">
            <!-- TemplateBeginEditable name="Galleries" -->
            <header>
                <h2>{{ portfolioFull }}</h2>
            </header>
            <div class="row">
                <div class="4u">
                    {% for number in range(1, row + 1) %}
                        {% if number % 3 == 1 %}
                            <article class="item">
                                <button id="{{ number }}">Open PhotoSwipe</button>
                                <a href="{{ url_for(portfolio.lower()) }}/ {{ number }}" class="image fit"><img
                                        src="{{ url_for('static', filename = ('images/' ~ portfolio ~ '/' ~ number ~ '.jpg')) }}"
                                        alt=""/></a>
                                <header>
                                    <p id="description">{{ description[number - 1] }}</p>
                                </header>
                            </article>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="4u">
                    {% for number in range(1, row + 1) %}
                        {% if number % 3 == 2 %}
                            <article class="item">
                                <a href="{{ url_for(portfolio.lower()) }}/ {{ number }}" class="image fit"><img
                                        src="{{ url_for('static', filename = ('images/' ~ portfolio ~ '/' ~ number ~ '.jpg')) }}"
                                        alt=""/></a>
                                <header>
                                    <p id="description">{{ description[number - 1] }}</p>
                                </header>
                            </article>

                        {% endif %}
                    {% endfor %}
                </div>

                <div class="4u">
                    {% for number in range(1, row + 1) %}
                        {% if number % 3 == 0 %}
                            <article class="item">
                                <a href="{{ url_for(portfolio.lower()) }}/ {{ number }}" class="image fit"><img
                                        src="{{ url_for('static', filename = ('images/' ~ portfolio ~ '/' ~ number ~ '.jpg')) }}"
                                        alt=""/></a>
                                <header>
                                    <p id="description">{{ description[number - 1] }}</p>
                                </header>
                            </article>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>

        </div>
    </section>
</div>
<!-- TemplateEndEditable -->
<!-- Footer -->
<div id="footer">

    <!-- Copyright -->
    <ul class="copyright">
        <li>&copy; 2017 Coralite Woodworks LLC, All rights reserved.</li>
        <li>9 Dusty Lane Unit 3 â€¢ Newtown CT 06470</li>
        <li>Office <a href="tel://1-203-364-9600">(203) 364-9600</a></li>
        <li>Cell <a href="tel://1-203-943-8259">(203) 943-8259</a></li>
    </ul>

</div>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element, as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
        <!-- don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

</body>

<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.scrolly.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.scrollzer.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/skel.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/skel-layers.min.js') }}"></script>
<script>
    (function ($) {

        skel.init({
            reset: 'full',
            breakpoints: {
                'global': {
                    range: '*',
                    href: '{{ url_for('static', filename='css/style.css') }}',
                    containers: 1400,
                    grid: {gutters: 40},
                    viewport: {scalable: false}
                },
                'wide': {
                    range: '961-1880',
                    href: '{{ url_for('static', filename='css/style-wide.css') }}',
                    containers: 1200,
                    grid: {gutters: 40}
                },
                'normal': {
                    range: '961-1620',
                    href: '{{ url_for('static', filename='css/style-normal.css') }}',
                    containers: 960,
                    grid: {gutters: 40}
                },
                'narrow': {
                    range: '961-1320',
                    href: '{{ url_for('static', filename='css/style-narrow.css') }}',
                    containers: '100%',
                    grid: {gutters: 20}
                },
                'narrower': {
                    range: '0-960',
                    href: '{{ url_for('static', filename='css/style-narrower.css') }}',
                    containers: '100%',
                    grid: {gutters: 15}
                },
                'mobile': {
                    range: '0-736',
                    href: '{{ url_for('static', filename='css/style-mobile.css') }}',
                    grid: {collapse: true}
                }
            },
            plugins: {
                layers: {
                    sidePanel: {
                        hidden: true,
                        breakpoints: 'narrower',
                        position: 'top-left',
                        side: 'left',
                        animation: 'pushX',
                        width: 240,
                        height: '100%',
                        clickToHide: true,
                        html: '<div data-action="moveElement" data-args="header"></div>',
                        orientation: 'vertical'
                    },
                    sidePanelToggle: {
                        breakpoints: 'narrower',
                        position: 'top-left',
                        side: 'top',
                        height: '4em',
                        width: '5em',
                        html: '<div data-action="toggleLayer" data-args="sidePanel" class="toggle"></div>'
                    }
                }
            }
        });

        $(function () {

            var $window = $(window),
                $body = $('body');

            // Disable animations/transitions until the page has loaded.
            $body.addClass('is-loading');

            $window.on('load', function () {
                $body.removeClass('is-loading');
            });

            // CSS polyfills (IE<9).
            if (skel.vars.IEVersion < 9)
                $(':last-child').addClass('last-child');

            // Forms (IE<10).
            var $form = $('form');
            if ($form.length > 0) {

                $form.find('.form-button-submit')
                    .on('click', function () {
                        $(this).parents('form').submit();
                        return false;
                    });

                if (skel.vars.IEVersion < 10) {
                    $.fn.n33_formerize = function () {
                        var _fakes = new Array(), _form = $(this);
                        _form.find('input[type=text],textarea').each(function () {
                            var e = $(this);
                            if (e.val() == '' || e.val() == e.attr('placeholder')) {
                                e.addClass('formerize-placeholder');
                                e.val(e.attr('placeholder'));
                            }
                        }).blur(function () {
                            var e = $(this);
                            if (e.attr('name').match(/_fakeformerizefield$/)) return;
                            if (e.val() == '') {
                                e.addClass('formerize-placeholder');
                                e.val(e.attr('placeholder'));
                            }
                        }).focus(function () {
                            var e = $(this);
                            if (e.attr('name').match(/_fakeformerizefield$/)) return;
                            if (e.val() == e.attr('placeholder')) {
                                e.removeClass('formerize-placeholder');
                                e.val('');
                            }
                        });
                        _form.find('input[type=password]').each(function () {
                            var e = $(this);
                            var x = $($('<div>').append(e.clone()).remove().html().replace(/type="password"/i, 'type="text"').replace(/type=password/i, 'type=text'));
                            if (e.attr('id') != '') x.attr('id', e.attr('id') + '_fakeformerizefield');
                            if (e.attr('name') != '') x.attr('name', e.attr('name') + '_fakeformerizefield');
                            x.addClass('formerize-placeholder').val(x.attr('placeholder')).insertAfter(e);
                            if (e.val() == '') e.hide(); else x.hide();
                            e.blur(function (event) {
                                event.preventDefault();
                                var e = $(this);
                                var x = e.parent().find('input[name=' + e.attr('name') + '_fakeformerizefield]');
                                if (e.val() == '') {
                                    e.hide();
                                    x.show();
                                }
                            });
                            x.focus(function (event) {
                                event.preventDefault();
                                var x = $(this);
                                var e = x.parent().find('input[name=' + x.attr('name').replace('_fakeformerizefield', '') + ']');
                                x.hide();
                                e.show().focus();
                            });
                            x.keypress(function (event) {
                                event.preventDefault();
                                x.val('');
                            });
                        });
                        _form.submit(function () {
                            $(this).find('input[type=text],input[type=password],textarea').each(function (event) {
                                var e = $(this);
                                if (e.attr('name').match(/_fakeformerizefield$/)) e.attr('name', '');
                                if (e.val() == e.attr('placeholder')) {
                                    e.removeClass('formerize-placeholder');
                                    e.val('');
                                }
                            });
                        }).bind("reset", function (event) {
                            event.preventDefault();
                            $(this).find('select').val($('option:first').val());
                            $(this).find('input,textarea').each(function () {
                                var e = $(this);
                                var x;
                                e.removeClass('formerize-placeholder');
                                switch (this.type) {
                                    case 'submit':
                                    case 'reset':
                                        break;
                                    case 'password':
                                        e.val(e.attr('defaultValue'));
                                        x = e.parent().find('input[name=' + e.attr('name') + '_fakeformerizefield]');
                                        if (e.val() == '') {
                                            e.hide();
                                            x.show();
                                        } else {
                                            e.show();
                                            x.hide();
                                        }
                                        break;
                                    case 'checkbox':
                                    case 'radio':
                                        e.attr('checked', e.attr('defaultValue'));
                                        break;
                                    case 'text':
                                    case 'textarea':
                                        e.val(e.attr('defaultValue'));
                                        if (e.val() == '') {
                                            e.addClass('formerize-placeholder');
                                            e.val(e.attr('placeholder'));
                                        }
                                        break;
                                    default:
                                        e.val(e.attr('defaultValue'));
                                        break;
                                }
                            });
                            window.setTimeout(function () {
                                for (x in _fakes) _fakes[x].trigger('formerize_sync');
                            }, 10);
                        });
                        return _form;
                    };
                    $form.n33_formerize();
                }

            }

            // Scrolly links.
            $('.scrolly').scrolly();

            // Nav.
            var $nav_a = $('#nav a');

            // Scrolly-fy links.
            $nav_a
                .scrolly()
                .on('click', function (e) {

                    var t = $(this),
                        href = t.attr('href');

                    if (href[0] != '#')
                        return;

                    e.preventDefault();

                    // Clear active and lock scrollzer until scrolling has stopped
                    $nav_a
                        .removeClass('active')
                        .addClass('scrollzer-locked');

                    // Set this link to active
                    t.addClass('active');

                });

            // Initialize scrollzer.
            var ids = [];

            $nav_a.each(function () {

                var href = $(this).attr('href');

                if (href[0] != '#')
                    return;

                ids.push(href.substring(1));

            });

            $.scrollzer(ids, {pad: 200, lastHack: true});

        });

    })(jQuery);
</script>
<script src="{{ url_for('static', filename='js/jquery.dropotron.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.onvisible.min.js') }}"></script>
<!-- Core JS file -->
<script src="{{ url_for('static', filename='components/photoswipe/dist/photoswipe.min.js') }}"></script>
<!-- UI JS file -->
<script src="{{ url_for('static', filename='components/photoswipe/dist/photoswipe-ui-default.min.js') }}"></script>


{% for number in range(1, row + 1) %}
    <script>
        var openPhotoSwipe = function () {
            var pswpElement = document.querySelectorAll('.pswp')[0];

            // build items array
            var items = {{ items|safe }};

            // define options (if needed)
            var options = {
                // history & focus options are disabled on CodePen
                history: true,
                focus: true,

                showAnimationDuration: 250,
                hideAnimationDuration: 250

            };

            var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
            gallery.init();
        };

        document.getElementById('{{ number }}').onclick = openPhotoSwipe;
    </script>
{% endfor %}

</html>